# 小笛手 · 后续功能规划

> 版本路线图，按优先级排列

---

## 第一阶段：基础体验完善（近期）

### 1. 节拍器 / 伴奏音
- 练习时播放节拍器滴答声，帮助小朋友保持节奏
- 可选择是否开启，音量可调

### 2. 音符中文名显示
- 将 `G4`、`A4` 等英文音名同时显示为 `sol`、`la` 等唱名
- 方便还不熟悉英文音名的小朋友

### 3. 练习历史记录
- 本地保存每次练习的得分和时间
- 主页显示"今天练了几次"、"最高分"
- 用小星星或徽章激励坚持练习

### 4. 音准仪表盘优化
- 加入动画效果（指针摆动）
- 显示目标音符名称，方便对照

---

## 第二阶段：内容扩充（中期）

### 5. 更多曲目
- 内置 10+ 首儿歌曲谱（两只老虎、生日快乐、小燕子等）
- 按难度分级：入门 / 初级 / 中级

### 6. 更多专项练习
- 音阶练习（C 大调、G 大调上下行）
- 长音练习（单音保持 4 秒）
- 跳音练习（不同音符之间跳跃）
- 高低音区切换练习

### 7. 成就系统
- 连续练习 7 天 → 🏅 坚持徽章
- 单次得分 90+ → ⭐ 完美徽章
- 完成所有专项练习 → 🎖️ 全能徽章
- 徽章展示墙，激励小朋友

### 8. 家长模式
- 家长可查看孩子的练习记录和进步曲线
- 设置每日练习目标（如：每天练 10 分钟）
- 完成目标后发送通知鼓励

---

## 第三阶段：社交与进阶（远期）

### 9. 打卡分享
- 录像打卡后一键生成带分数的分享图片
- 分享到微信朋友圈 / 家长群

### 10. 在线曲库
- 从服务器下载更多曲谱
- 支持老师上传自定义曲谱

### 11. AI 练习建议
- 根据历史得分分析薄弱点
- 自动推荐针对性练习（如：音准差 → 推荐长音练习）

### 12. 双人对战模式
- 两个小朋友同时练习同一首曲子
- 实时比较得分，增加趣味性

---

## 技术优化项

| 项目 | 说明 |
|------|------|
| 音高检测精度 | 优化低音区（D4 以下）检测准确率 |
| 延迟优化 | 将音频分析延迟从 ~100ms 降低到 ~50ms |
| 离线支持 | 所有功能完全离线可用 |
| iPad 适配 | 大屏布局优化，显示更多信息 |
| Android / iOS 双端 | 完整测试两个平台的麦克风权限和音频表现 |

---

## 当前版本功能清单

- [x] 实时音高检测（FFT + 抛物线插值）
- [x] 音准仪表盘（±50 cents 范围显示）
- [x] 曲谱对照练习（小星星 D 调）
- [x] 练习评分（音准分 + 准确率）
- [x] 专项节奏练习（5 种节奏型）
- [x] 倒计时 + 自动录制 + 自动评分
- [x] 视频录制 + FFmpeg 水印合成
- [x] 儿童友好界面（暖色调 + 大字体 + emoji）
